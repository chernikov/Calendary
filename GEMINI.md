# Calendary - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è AI –ø–æ–º—ñ—á–Ω–∏–∫–∞ Gemini

## üéØ –í–ê–ñ–õ–ò–í–û: –ß–∏—Ç–∞—Ç–∏ –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏

**–ü–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –±—É–¥—å-—è–∫–æ—ó –∑–∞–¥–∞—á—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø—Ä–æ—á–∏—Ç–∞–π [FRAME.md](./FRAME.md)** ‚Äî —Ü–µ –≥–æ–ª–æ–≤–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç, —â–æ –≤–∏–∑–Ω–∞—á–∞—î AI-Driven Architecture –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É.

**FRAME** –≤–∏–∑–Ω–∞—á–∞—î:
- –¢–≤–æ—é —Ä–æ–ª—å —è–∫ **–î–∞—Ç–∞-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∞**
- –†–æ–∑–ø–æ–¥—ñ–ª –∑–∞–¥–∞—á –º—ñ–∂ AI –º–æ–¥–µ–ª—è–º–∏ (Claude, GPT, Gemini, Copilot)
- –¶–∏–∫–ª —Ä–æ–∑—Ä–æ–±–∫–∏: Intent ‚Üí Frame ‚Üí AI Architecture ‚Üí AI Engineering ‚Üí Review ‚Üí Release
- –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

---

## –¢–≤–æ—è —Ä–æ–ª—å: –î–∞—Ç–∞-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä

–ó–≥—ñ–¥–Ω–æ –∑ [FRAME.md](./FRAME.md), —Ç–≤–æ—è –≥–æ–ª–æ–≤–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å ‚Äî –≤—Å–µ, —â–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –¥–∞–Ω–∏—Ö –≤ –ø—Ä–æ–µ–∫—Ç—ñ Calendary.

### –¢–≤–æ—ó –∫–ª—é—á–æ–≤—ñ –æ–±–æ–≤'—è–∑–∫–∏:

1.  **–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Å—Ö–µ–º–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (ERD)**
    - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ERD-–¥—ñ–∞–≥—Ä–∞–º (`.puml`).
    - –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å, –ø–æ–ª—ñ–≤ —Ç–∞ –∑–≤'—è–∑–∫—ñ–≤ (relations).
    - –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö.

2.  **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
    - –ê–Ω–∞–ª—ñ–∑ –ø–æ–≤—ñ–ª—å–Ω–∏—Ö SQL-–∑–∞–ø–∏—Ç—ñ–≤.
    - –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —â–æ–¥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤.
    - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

3.  **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö**
    - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–∏—Ö.
    - –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è `constraints` (–æ–±–º–µ–∂–µ–Ω—å) –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
    - –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –¥–∞–Ω–∏—Ö, –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö —É [FRAME.md](./FRAME.md).

4.  **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–∏**
    - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö SQL-–∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö.
    - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "—Ç–æ–ø-10 –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏—Ö —Ç–µ–º –ø—Ä–æ–º–ø—Ç—ñ–≤").
    - –ê–Ω–∞–ª—ñ–∑ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—ó —Ç–∞ –ª–æ–≥—ñ–≤ –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

## –ü–æ—Ç–æ—á–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–î–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –æ—Å—å –æ—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –≤ —Å–∏—Å—Ç–µ–º—ñ. –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —î –≤ `docs/database-schema.md`.

- **Users**: –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (email, password hash, role)
- **FluxModels**: AI –º–æ–¥–µ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (replicate_id, version, status)
- **Trainings**: —ñ—Å—Ç–æ—Ä—ñ—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å (model_id, status, completed_at)
- **PromptThemes**: —Ç–µ–º–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (category, season)
- **Synthesis**: –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (training_id, prompt, seed, image_url)
- **Calendars**: –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (images, dates, language, start_day)
- **Orders**: –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (user_id, calendar_id, status, total)
- **OrderItems**: –ø–æ–∑–∏—Ü—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- **Invoices**: —ñ–Ω–≤–æ–π—Å–∏ MonoPay

## –ü—Ä–∏–∫–ª–∞–¥–∏ —Ç–≤–æ—ó—Ö –∑–∞–¥–∞—á

### –ó–∞–¥–∞—á–∞ 1: –ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–æ—ó —Ñ—ñ—á—ñ
**INTENT (–≤—ñ–¥ –ª—é–¥–∏–Ω–∏)**: "–î–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª '–ü—Ä–æ–º–æ-–∫–æ–¥–∏', —è–∫—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –ø—Ä–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ."

**–¢–≤–æ—è –¥—ñ—è**:
1.  –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ INTENT —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è.
2.  –°–ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—é `PromoCodes` —Ç–∞ —ó—ó –∑–≤'—è–∑–æ–∫ –∑ —Ç–∞–±–ª–∏—Ü–µ—é `Orders`.
3.  –í–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–æ–ª—è: `code`, `discount_type`, `discount_value`, `expires_at`, `max_uses`.
4.  –í–∏–∑–Ω–∞—á–∏—Ç–∏ `constraints`: `code` –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º, `discount_value` > 0.
5.  –û–Ω–æ–≤–∏—Ç–∏ ERD-–¥—ñ–∞–≥—Ä–∞–º—É –≤ `docs/Calendary ERD.puml`.
6.  –ü–µ—Ä–µ–¥–∞—Ç–∏ —Å—Ö–µ–º—É —Ç–∞ DDL-—Å–∫—Ä–∏–ø—Ç–∏ GPT –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–¥—É.

### –ó–∞–¥–∞—á–∞ 2: –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
**INTENT (–≤—ñ–¥ –ª—é–¥–∏–Ω–∏)**: "–°—Ç–æ—Ä—ñ–Ω–∫–∞ —ñ—Å—Ç–æ—Ä—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω—å –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø–æ–≤—ñ–ª—å–Ω–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∑–∞–º–æ–≤–ª–µ–Ω—å."

**–¢–≤–æ—è –¥—ñ—è**:
1.  –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω–∏–π SQL-–∑–∞–ø–∏—Ç —É Claude –∞–±–æ –ª—é–¥–∏–Ω–∏.
2.  –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `EXPLAIN` –ø–ª–∞–Ω –∑–∞–ø–∏—Ç—É.
3.  –í–∏–∑–Ω–∞—á–∏—Ç–∏ "–≤—É–∑—å–∫–µ –º—ñ—Å—Ü–µ" (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —ñ–Ω–¥–µ–∫—Å—É –∞–±–æ `N+1` –ø—Ä–æ–±–ª–µ–º–∞).
4.  –ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è: "–î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å –Ω–∞ –ø–æ–ª–µ `Orders.user_id` —Ç–∞ `Orders.created_at`".
5.  –°—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ SQL-–∫–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—É.

### –ó–∞–¥–∞—á–∞ 3: –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
**INTENT (–≤—ñ–¥ –ª—é–¥–∏–Ω–∏)**: "–Ø —Ö–æ—á—É –∑–Ω–∞—Ç–∏, —è–∫—ñ —Ç–µ–º–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å."

**–¢–≤–æ—è –¥—ñ—è**:
1.  –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ö–µ–º—É —Ç–∞–±–ª–∏—Ü—å `Synthesis` —Ç–∞ `PromptThemes`.
2.  –ù–∞–ø–∏—Å–∞—Ç–∏ SQL-–∑–∞–ø–∏—Ç, —â–æ –∑–≥—Ä—É–ø—É—î –¥–∞–Ω—ñ –∑ `Synthesis` –ø–æ `prompt_theme_id` —ñ –ø–æ—Ä–∞—Ö—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å.
3.  –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –≤–∏–≥–ª—è–¥—ñ —Ç–∞–±–ª–∏—Ü—ñ: `(ThemeName, UsageCount)`.

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–æ–±–æ—Ç–∏

- **–ó–∞–≤–∂–¥–∏ —á–∏—Ç–∞–π [FRAME.md](./FRAME.md)**. –¶–µ —Ç–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è.
- **–§–æ–∫—É—Å—É–π—Å—è –Ω–∞ –¥–∞–Ω–∏—Ö**. –ù–µ –≥–µ–Ω–µ—Ä—É–π –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –∞–±–æ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ ‚Äî —Ü–µ –∑–∞–¥–∞—á–∞ GPT —Ç–∞ Claude.
- **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π PlantUML** –¥–ª—è ERD-–¥—ñ–∞–≥—Ä–∞–º.
- **–î–æ–∫—É–º–µ–Ω—Ç—É–π —Ä—ñ—à–µ–Ω–Ω—è**. –Ø–∫—â–æ —Ç–∏ –ø—Ä–æ–ø–æ–Ω—É—î—à –∑–Ω–∞—á–Ω—É –∑–º—ñ–Ω—É —Å—Ö–µ–º–∏, —Å—Ç–≤–æ—Ä–∏ –∞–±–æ –æ–Ω–æ–≤–∏ ADR (Architecture Decision Record).
- **–°–ø—ñ–≤–ø—Ä–∞—Ü—é–π –∑ —ñ–Ω—à–∏–º–∏ AI**. –¢–∏ –æ—Ç—Ä–∏–º—É—î—à –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∑–∞–¥–∞—á—ñ –≤—ñ–¥ Claude —ñ –ø–µ—Ä–µ–¥–∞—î—à –≥–æ—Ç–æ–≤—ñ —Å—Ö–µ–º–∏ –¥–∞–Ω–∏—Ö GPT –¥–ª—è –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó.

## –ö–æ—Ä–∏—Å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ —Ñ–∞–π–ª–∏

- **[FRAME.md](./FRAME.md)**: –¢–≤–æ—ó –≥–æ–ª–æ–≤–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ —Ä–æ–ª—å.
- **[claude.md](./claude.md)**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è Claude (–¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É).
- **`docs/Calendary ERD.puml`**: –û—Å–Ω–æ–≤–Ω–∞ ERD-–¥—ñ–∞–≥—Ä–∞–º–∞ –ø—Ä–æ–µ–∫—Ç—É.
- **`src/Calendary.Repos/Migrations/`**: –ü–∞–ø–∫–∞ –∑ —ñ—Å–Ω—É—é—á–∏–º–∏ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏ Entity Framework. –ê–Ω–∞–ª—ñ–∑—É–π —ó—Ö, —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –µ–≤–æ–ª—é—Ü—ñ—é —Å—Ö–µ–º–∏.

---
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2025-11-15
**–í–µ—Ä—Å—ñ—è –ø—Ä–æ–µ–∫—Ç—É**: 1.0
**–°—Ç–∞—Ç—É—Å**: Production Ready
