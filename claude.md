# Calendary - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è AI –ø–æ–º—ñ—á–Ω–∏–∫—ñ–≤

## üéØ –í–ê–ñ–õ–ò–í–û: –ß–∏—Ç–∞—Ç–∏ –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏

**–ü–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –±—É–¥—å-—è–∫–æ—ó –∑–∞–¥–∞—á—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø—Ä–æ—á–∏—Ç–∞–π [FRAME.md](./FRAME.md)** ‚Äî —Ü–µ –≥–æ–ª–æ–≤–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç, —â–æ –≤–∏–∑–Ω–∞—á–∞—î AI-Driven Architecture –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É.

**FRAME** –≤–∏–∑–Ω–∞—á–∞—î:
- –†–æ–ª—å AI —è–∫ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∞ —Ç–∞ —ñ–Ω–∂–µ–Ω–µ—Ä–∞
- –†–æ–ª—å –ª—é–¥–∏–Ω–∏ —è–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (intent, constraints, validation)
- –¶–∏–∫–ª —Ä–æ–∑—Ä–æ–±–∫–∏: Intent ‚Üí Frame ‚Üí AI Architecture ‚Üí AI Engineering ‚Üí Review ‚Üí Release
- –†–æ–∑–ø–æ–¥—ñ–ª –∑–∞–¥–∞—á –º—ñ–∂ AI –º–æ–¥–µ–ª—è–º–∏ (Claude, GPT, Gemini, Copilot)
- –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ —Ä—ñ—à–µ–Ω—å

---

## –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

**Calendary.com.ua** - –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤—ñ—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤-–ø–æ—Å—Ç–µ—Ä—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º AI –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å.

### –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (JWT)
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è AI –º–æ–¥–µ–ª—ñ
- –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è LoRA –º–æ–¥–µ–ª—ñ —á–µ—Ä–µ–∑ Replicate API (Flux)
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑ –≤–∏–±–æ—Ä–æ–º –º–æ–≤–∏, –≤–∞–∂–ª–∏–≤–∏—Ö –¥–∞—Ç
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF —Ñ–∞–π–ª—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –ù–æ–≤–∞ –ü–æ—à—Ç–∞ —Ç–∞ MonoPay
- –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Backend (.NET 9.0)
- **Calendary.Api** - ASP.NET Core Web API
  - Controllers –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏, AI –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é
  - JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Replicate API
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤
  - WebHook endpoints –¥–ª—è Replicate —Ç–∞ MonoPay

- **Calendary.Consumer** - RabbitMQ consumer
  - –û–±—Ä–æ–±–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –∑–∞–¥–∞—á
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤ —É —Ñ–æ–Ω—ñ

- **Calendary.Core** - Business Logic Layer
  - Services: ReplicateService, PdfService, EmailService, SmsService
  - Providers: NovaPoshtaProvider, MonoPayProvider
  - Helpers —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏

- **Calendary.Repos** - Data Access Layer
  - Entity Framework Core
  - MS SQL Server
  - Repository pattern
  - Migrations

- **Calendary.Model** - Shared Models
  - DTOs
  - Messages –¥–ª—è RabbitMQ
  - Entities

### Frontend (Angular 20)
- **Calendary.Ng** - Angular SPA + SSR (Angular 20.3+)
  - Material Design UI
  - –°—Ç–æ—Ä—ñ–Ω–∫–∏: Landing, Registration, Calendar Builder, Cart, Checkout, Profile
  - –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏, –º–æ–¥–µ–ª—è–º–∏, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
  - Guards –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
  - Interceptors –¥–ª—è HTTP –∑–∞–ø–∏—Ç—ñ–≤ (JWT token)

### –ó–æ–≤–Ω—ñ—à–Ω—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
1. **Replicate API** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è AI –∑–æ–±—Ä–∞–∂–µ–Ω—å
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è LoRA –º–æ–¥–µ–ª–µ–π (Flux)
   - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ–º–ø—Ç—ñ–≤
   - WebHook –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

2. **–ù–æ–≤–∞ –ü–æ—à—Ç–∞ API** - –¥–æ—Å—Ç–∞–≤–∫–∞
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –º—ñ—Å—Ç, –≤—ñ–¥–¥—ñ–ª–µ–Ω—å
   - –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ –¥–æ—Å—Ç–∞–≤–∫–∏

3. **MonoPay API** - –æ–ø–ª–∞—Ç–∞
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–≤–æ–π—Å—ñ–≤
   - WebHook –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ–ø–ª–∞—Ç–∏

4. **RabbitMQ** - —á–µ—Ä–≥–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∑–∞–¥–∞—á (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å, PDF)

5. **SMTP/SMS** - –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - Email –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è
   - SMS –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è
   - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
Calendary/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Calendary.Api/          # ASP.NET Core API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/        # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dtos/              # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Profiles/          # AutoMapper profiles
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Providers/         # External API providers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Tools/             # Utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wwwroot/           # Static files
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Calendary.Consumer/     # RabbitMQ consumer
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Consumers/         # Message handlers
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Calendary.Core/         # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Helpers/           # Helper classes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Models/            # Domain models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Providers/         # External integrations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Senders/           # Email/SMS senders
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Services/          # Business services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings/          # Configuration models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Templates/         # Email/PDF templates
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Calendary.Model/        # Shared models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Messages/          # RabbitMQ messages
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Calendary.Repos/        # Data access
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Migrations/        # EF migrations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Repositories/      # Repository implementations
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Calendary.Ng/           # Angular frontend
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îú‚îÄ‚îÄ app/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ admin/     # Admin panel
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ components/# Reusable components
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ pages/     # Page components
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ strategies/# Auth strategies
‚îÇ           ‚îú‚îÄ‚îÄ guards/        # Route guards
‚îÇ           ‚îú‚îÄ‚îÄ interceptors/  # HTTP interceptors
‚îÇ           ‚îú‚îÄ‚îÄ models/        # TypeScript models
‚îÇ           ‚îî‚îÄ‚îÄ services/      # Angular services
‚îÇ
‚îú‚îÄ‚îÄ tests/                      # Unit and integration tests
‚îú‚îÄ‚îÄ docs/                       # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ process.md             # Replicate API workflow
‚îÇ   ‚îî‚îÄ‚îÄ Calendary ERD.puml     # Database diagram
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker setup
‚îî‚îÄ‚îÄ Calendary.sln              # Solution file
```

## –û—Å–Ω–æ–≤–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏

### 1. –†–æ–±–æ—Ç–∞ –∑ AI –º–æ–¥–µ–ª—è–º–∏ (Replicate API)

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î 10-20 —Ñ–æ—Ç–æ
2. Backend —Å—Ç–≤–æ—Ä—é—î –∞—Ä—Ö—ñ–≤ (ZIP)
3. –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è Replicate API –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ: `POST /v1/models`
4. –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è: `POST /v1/models/{trainer}/trainings`
5. Replicate –Ω–∞–¥—Å–∏–ª–∞—î WebHook –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
6. –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è `version` –º–æ–¥–µ–ª—ñ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó

#### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
1. –§–æ—Ä–º—É—î—Ç—å—Å—è –ø—Ä–æ–º–ø—Ç –∑ trigger word "TOK" (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "a photo of TOK person at the beach")
2. –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è: `POST /v1/predictions` –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (seed, lora_scale, guidance_scale)
3. Replicate –ø–æ–≤–µ—Ä—Ç–∞—î URL –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
4. –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ: [docs/process.md](./docs/process.md)

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î 12 –∑–æ–±—Ä–∞–∂–µ–Ω—å (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –º—ñ—Å—è—Ü—å)
2. –î–æ–¥–∞—î –≤–∞–∂–ª–∏–≤—ñ –¥–∞—Ç–∏
3. –í–∏–±–∏—Ä–∞—î –º–æ–≤—É —Ç–∞ –¥–µ–Ω—å –ø–æ—á–∞—Ç–∫—É —Ç–∏–∂–Ω—è
4. Backend –≥–µ–Ω–µ—Ä—É—î PDF –∑ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
5. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î –≤ –∫–æ—à–∏–∫
6. –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### 3. –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏ (–ù–æ–≤–∞ –ü–æ—à—Ç–∞)
2. –û–±–∏—Ä–∞—î —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ (MonoPay)
3. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Order –≤ –ë–î
4. –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è —ñ–Ω–≤–æ–π—Å –≤ MonoPay
5. –ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ - WebHook –≤—ñ–¥ MonoPay
6. –ê–¥–º—ñ–Ω –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î PDF –Ω–∞ –¥—Ä—É–∫
7. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

## –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–û—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ:
- **Users** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (email, password hash, role)
- **FluxModels** - AI –º–æ–¥–µ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (replicate_id, version, status)
- **Trainings** - —ñ—Å—Ç–æ—Ä—ñ—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å (model_id, status, completed_at)
- **PromptThemes** - —Ç–µ–º–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (category, season)
- **Synthesis** - –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (training_id, prompt, seed, image_url)
- **Calendars** - –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (images, dates, language, start_day)
- **Orders** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (user_id, calendar_id, status, total)
- **OrderItems** - –ø–æ–∑–∏—Ü—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- **Invoices** - —ñ–Ω–≤–æ–π—Å–∏ MonoPay

## –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç

### Backend
```bash
cd src/Calendary.Api
dotnet restore
dotnet run
```

### Frontend
```bash
cd src/Calendary.Ng
npm install
npm start
```

### Docker
```bash
docker-compose up -d
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (appsettings.json)

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Database=calendary;..."
  },
  "JwtSettings": {
    "SecretKey": "...",
    "Issuer": "calendary.com.ua",
    "ExpiryMinutes": 1440
  },
  "ReplicateSettings": {
    "ApiKey": "r8_xxx...",
    "Owner": "chernikov",
    "TrainerModel": "ostris/flux-dev-lora-trainer",
    "WebhookUrl": "https://calendary.com.ua/api/webhook"
  },
  "RabbitMqSettings": {
    "Host": "localhost",
    "Username": "guest",
    "Password": "guest"
  },
  "NovaPoshtaSettings": {
    "ApiKey": "..."
  },
  "MonoPaySettings": {
    "Token": "...",
    "WebhookUrl": "..."
  }
}
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –∑–º—ñ–Ω

### Backend API
1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**
   - [ ] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - [ ] Login —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è JWT token
   - [ ] Refresh token

2. **AI –ú–æ–¥–µ–ª—ñ**
   - [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ –≤ –∞—Ä—Ö—ñ–≤
   - [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –≤ Replicate
   - [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
   - [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

3. **–ö–∞–ª–µ–Ω–¥–∞—Ä—ñ**
   - [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑ 12 –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏
   - [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏—Ö –¥–∞—Ç
   - [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF

4. **–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è**
   - [ ] –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤ –∫–æ—à–∏–∫
   - [ ] –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ –¥–æ—Å—Ç–∞–≤–∫–∏ (–ù–æ–≤–∞ –ü–æ—à—Ç–∞)
   - [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–≤–æ–π—Å—É (MonoPay)
   - [ ] –û–±—Ä–æ–±–∫–∞ WebHook –æ–ø–ª–∞—Ç–∏

5. **–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å**
   - [ ] –ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω—å
   - [ ] –ó–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - [ ] –í—ñ–¥–ø—Ä–∞–≤–∫–∞ PDF –Ω–∞ –¥—Ä—É–∫

### Frontend
1. **Landing page** - –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
2. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è/Login** - —Ñ–æ—Ä–º–∏, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, –ø–æ–º–∏–ª–∫–∏
3. **Calendar Builder** - –≤–∏–±—ñ—Ä –∑–æ–±—Ä–∞–∂–µ–Ω—å, –¥–∞—Ç–∏, –º–æ–≤–∞
4. **–ö–æ—à–∏–∫** - –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è, —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—É–º–∏
5. **Checkout** - —Ñ–æ—Ä–º–∞ –¥–æ—Å—Ç–∞–≤–∫–∏, –æ–ø–ª–∞—Ç–∞
6. **Profile** - –ø–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω—å, —ñ—Å—Ç–æ—Ä—ñ—è
7. **Admin** - —Ä–æ–±–æ—Ç–∞ –∑ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏, –º–æ–¥–µ–ª—è–º–∏

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
1. **Replicate API** - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ WebHook –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è/–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
2. **–ù–æ–≤–∞ –ü–æ—à—Ç–∞** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º—ñ—Å—Ç —Ç–∞ –≤—ñ–¥–¥—ñ–ª–µ–Ω—å
3. **MonoPay** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω–≤–æ–π—Å—É, WebHook –æ–ø–ª–∞—Ç–∏
4. **RabbitMQ** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É Consumer

## –ü–æ—Ç–æ—á–Ω—ñ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –∑–∞–¥–∞—á—ñ

### –í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
1. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó PDF** - –ø–æ–≤—ñ–ª—å–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤
2. **–ö–µ—à—É–≤–∞–Ω–Ω—è Replicate —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤** - —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
3. **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ Replicate API** - retry logic –¥–ª—è failed trainings
4. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Ñ–æ—Ç–æ** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É, —Ñ–æ—Ä–º–∞—Ç—É, NSFW –∫–æ–Ω—Ç–µ–Ω—Ç—É

### –°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
5. **Unit —Ç–µ—Å—Ç–∏ –¥–ª—è Core —Å–µ—Ä–≤—ñ—Å—ñ–≤** - –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ ReplicateService, PdfService
6. **–õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö API –∑–∞–ø–∏—Ç—ñ–≤** - Serilog –∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–º–∏ –ª–æ–≥–∞–º–∏
7. **Rate limiting –¥–ª—è API** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–ª–æ–≤–∂–∏–≤–∞–Ω—å
8. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î** - N+1 problem, eager loading

### –ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
9. **–ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ .NET 10** (–ø—ñ—Å–ª—è —Ä–µ–ª—ñ–∑—É)
10. **–î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø—Ä–æ–º–ø—Ç —Ç–µ–º** - —Å–µ–∑–æ–Ω–Ω—ñ, —Å–≤—è—Ç–∫–æ–≤—ñ
11. **Multilanguage –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UI** - —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞, –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞
12. **Mobile app** - React Native –∞–±–æ Flutter

## –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### Git
```bash
git checkout -b feature/task-name
git add .
git commit -m "feat: add feature description"
git push origin feature/task-name
```

### .NET
```bash
dotnet ef migrations add MigrationName --project src/Calendary.Repos
dotnet ef database update --project src/Calendary.Api
dotnet build
dotnet test
```

### Angular
```bash
ng generate component components/component-name
ng generate service services/service-name
ng build --configuration production
```

### Docker
```bash
docker-compose up -d          # –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose logs -f api    # –õ–æ–≥–∏ API
docker-compose down           # –ó—É–ø–∏–Ω–∫–∞
```

## Troubleshooting

### Replicate API –ø–æ–º–∏–ª–∫–∏
- **429 Too Many Requests** - rate limit, —Ç—Ä–µ–±–∞ –∑–∞—á–µ–∫–∞—Ç–∏
- **Training failed** - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —è–∫—ñ—Å—Ç—å/–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–æ—Ç–æ –≤ –∞—Ä—Ö—ñ–≤—ñ
- **Invalid version** - –º–æ–¥–µ–ª—å —â–µ —Ç—Ä–µ–Ω—É—î—Ç—å—Å—è –∞–±–æ –≤–∏–¥–∞–ª–µ–Ω–∞

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Connection timeout** - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ConnectionString
- **Migration conflict** - `dotnet ef database drop` (–¢–Ü–õ–¨–ö–ò –Ω–∞ dev!)

### RabbitMQ
- **Connection refused** - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ RabbitMQ –∑–∞–ø—É—â–µ–Ω–∏–π
- **Queue not found** - —Å—Ç–≤–æ—Ä–∏—Ç–∏ queue –≤ RabbitMQ Management UI

## –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ —Ä–µ—Å—É—Ä—Å–∏

- **Replicate Docs**: https://replicate.com/docs
- **Flux LoRA Trainer**: https://replicate.com/ostris/flux-dev-lora-trainer
- **–ù–æ–≤–∞ –ü–æ—à—Ç–∞ API**: https://developers.novaposhta.ua/
- **MonoPay API**: https://api.monobank.ua/docs/

## –ü—Ä–∏–º—ñ—Ç–∫–∏ –¥–ª—è AI –ø–æ–º—ñ—á–Ω–∏–∫—ñ–≤

### –°—Ç–∏–ª—å –∫–æ–¥—É
- **Backend**: C# 12, async/await, LINQ, dependency injection
- **Frontend**: TypeScript, RxJS, Angular best practices
- **Naming**: PascalCase (C#), camelCase (TypeScript)

### –ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏
1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –≤ `docs/`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ—Å–Ω—É—é—á—ñ TODO/FIXME –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ
3. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –æ—Å—Ç–∞–Ω–Ω—ñ commits –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
4. –ü—Ä–∏ –∑–º—ñ–Ω—ñ API - –æ–Ω–æ–≤—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ Angular services

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–æ–±–æ—Ç–∏
- **–ó–∞–≤–∂–¥–∏ —á–∏—Ç–∞–π—Ç–µ [FRAME.md](./FRAME.md) –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ**
- –î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å AI-Driven Architecture –ø—ñ–¥—Ö–æ–¥—É (Intent ‚Üí Architecture ‚Üí Engineering)
- –î–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —á–µ—Ä–µ–∑ ADR (Architecture Decision Records)
- –°—Ç–≤–æ—Ä—é–π—Ç–µ –æ–∫—Ä–µ–º—É –±—Ä–µ–Ω—á—É –¥–ª—è –∑–∞–¥–∞—á—ñ
- –ü–∏—à—ñ—Ç—å –æ–ø–∏—Å–æ–≤—ñ commit messages
- –î–æ–¥–∞–≤–∞–π—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏
- –û–Ω–æ–≤–ª—é–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –¢–µ—Å—Ç—É–π—Ç–µ –∑–º—ñ–Ω–∏ –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ commit
- –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è INVARIANTS –∑ FRAME.md

### –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–ª—é—á–æ–≤—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏
- **[FRAME.md](./FRAME.md)** - –ì–æ–ª–æ–≤–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç AI-Driven Architecture
- [Architecture](./docs/architecture.md) - –¢–µ—Ö–Ω—ñ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- [Code Quality Rules](./docs/code-quality-rules.md) - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –∫–æ–¥—É
- [QA Testing Plan](./docs/qa-testing-plan.md) - –ü–ª–∞–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2025-11-15
**–í–µ—Ä—Å—ñ—è –ø—Ä–æ–µ–∫—Ç—É**: 1.0
**–°—Ç–∞—Ç—É—Å**: Production Ready
