# –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∑–∞–¥–∞—á—ñ Calendary

## –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å —Ü–∏–º —Ñ–∞–π–ª–æ–º

1. **–ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á—ñ**: –°–∫–æ–ø—ñ—é–π—Ç–µ –æ–ø–∏—Å –∑–∞–¥–∞—á—ñ —Ç–∞ –¥–∞–π—Ç–µ AI –ø–æ–º—ñ—á–Ω–∏–∫—É (Claude/Copilot/Gemini/Codex)
2. **AI –≤–∏–∫–æ–Ω—É—î**: –ü–æ–º—ñ—á–Ω–∏–∫ —Å—Ç–≤–æ—Ä–∏—Ç—å –±—Ä–µ–Ω—á—É, –Ω–∞–ø–∏—à–µ –∫–æ–¥, –ø—Ä–æ—Ç–µ—Å—Ç—É—î
3. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —á–µ–∫-–ª–∏—Å—Ç –∑ —Å–µ–∫—Ü—ñ—ó "–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏"
4. **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è**: AI —Å—Ç–≤–æ—Ä–∏—Ç—å commit —Ç–∞ PR (–∞–±–æ –≤–∏ —Ü–µ –∑—Ä–æ–±–∏—Ç–µ –≤—Ä—É—á–Ω—É)
5. **–ü–æ–∑–Ω–∞—á–∫–∞**: –ü–æ–∑–Ω–∞—á—Ç–µ –∑–∞–¥–∞—á—É —è–∫ –≤–∏–∫–æ–Ω–∞–Ω—É (–∑–º—ñ–Ω—ñ—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ DONE)

---

## –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å—ñ–≤

- **TODO** - –∑–∞–¥–∞—á–∞ –Ω–µ —Ä–æ–∑–ø–æ—á–∞—Ç–∞
- **IN PROGRESS** - –∑–∞–¥–∞—á–∞ –≤ —Ä–æ–±–æ—Ç—ñ
- **TESTING** - –∑–∞–¥–∞—á–∞ –ø–æ—Ç—Ä–µ–±—É—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **DONE** - –∑–∞–¥–∞—á–∞ –≤–∏–∫–æ–Ω–∞–Ω–∞ —Ç–∞ –∑–º–µ—Ä–¥–∂–µ–Ω–∞

---

## –í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (P1)

### 1. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó PDF –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –í–∏—Å–æ–∫–∞
**–ß–∞—Å**: 4-6 –≥–æ–¥–∏–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**:
–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤ –∑–∞–π–º–∞—î 10-15 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑ 12 –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏ –≤–∏—Å–æ–∫–æ—ó —è–∫–æ—Å—Ç—ñ.

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `PdfService` –≤ `Calendary.Core/Services`
2. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (–ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–µ—à–æ–≤–∞–Ω—ñ thumbnail –≤–µ—Ä—Å—ñ—ó –∑–∞–º—ñ—Å—Ç—å –ø–æ–≤–Ω–æ—Ä–æ–∑–º—ñ—Ä–Ω–∏—Ö
4. –î–æ–¥–∞—Ç–∏ progress bar –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (WebSocket –∞–±–æ SignalR)
5. –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ñ–æ–Ω–æ–≤–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ RabbitMQ

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/PdfService.cs`
- `src/Calendary.Api/Controllers/CalendarController.cs`
- –ú–æ–∂–ª–∏–≤–æ: –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π Consumer –≤ `Calendary.Consumer`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∑–∞ <5 —Å–µ–∫—É–Ω–¥
- [ ] –Ø–∫—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω—å –≤ PDF –Ω–µ –ø–æ–≥—ñ—Ä—à–∏–ª–∞—Å—å
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞—Ç —Ç–∞ –º–æ–≤–∏
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –∑ 12 –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏ —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ (1MB, 5MB, 10MB)
- [ ] –ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: 10 –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ß–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–º–µ–Ω—à–∏–≤—Å—è –Ω–∞ 50%+
- –ù–µ –≤–∏–Ω–∏–∫–∞—î –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö

---

### 2. –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ Replicate API –∑ retry logic
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏

**–ü—Ä–æ–±–ª–µ–º–∞**:
–ü—Ä–∏ –∑–±–æ—è—Ö Replicate API (timeout, 5xx errors) —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –∞–±–æ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–æ—Å—Ç–æ –ø–∞–¥–∞—î –±–µ–∑ retry.

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ Polly library –¥–ª—è retry policies
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ exponential backoff –¥–ª—è Replicate API –≤–∏–∫–ª–∏–∫—ñ–≤
3. –î–æ–¥–∞—Ç–∏ fallback –º–µ—Ö–∞–Ω—ñ–∑–º (–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ —á–µ—Ä–≥—É –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó —Å–ø—Ä–æ–±–∏)
4. –õ–æ–≥—É–≤–∞—Ç–∏ –≤—Å—ñ retry —Å–ø—Ä–æ–±–∏
5. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Å—Ç–∞—Ç—É—Å "Retrying..." –∑–∞–º—ñ—Å—Ç—å "Failed"

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/ReplicateService.cs`
- `src/Calendary.Core/Calendary.Core.csproj` (–¥–æ–¥–∞—Ç–∏ Polly NuGet)
- `src/Calendary.Consumer/Consumers/*` (–¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–±)

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –°–∏–º—É–ª—é–≤–∞—Ç–∏ Replicate timeout (–≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —î 3 retry —Å–ø—Ä–æ–±–∏ –∑ –∑–∞—Ç—Ä–∏–º–∫–∞–º–∏ (1s, 2s, 4s)
- [ ] –°—Ç–∞—Ç—É—Å –≤ –ë–î –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ (retrying -> succeeded/failed)
- [ ] –õ–æ–≥–∏ –º—ñ—Å—Ç—è—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–∂–Ω—É —Å–ø—Ä–æ–±—É
- [ ] –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å –≤ UI

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- 90%+ —Ç—Ä–µ–Ω—É–≤–∞–Ω—å –∑ —Ç–∏–º—á–∞—Å–æ–≤–∏–º–∏ –∑–±–æ—è–º–∏ –∑–∞–≤–µ—Ä—à—É—é—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ –ø—ñ—Å–ª—è retry

---

### 3. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Ñ–æ—Ç–æ
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 2-3 –≥–æ–¥–∏–Ω–∏

**–ü—Ä–æ–±–ª–µ–º–∞**:
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–µ—è–∫—ñ—Å–Ω—ñ —Ñ–æ—Ç–æ, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–≥–∞–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è.

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É (—Ç—ñ–ª—å–∫–∏ JPG, PNG, WebP)
2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É (–º—ñ–Ω 512x512px, –º–∞–∫—Å 4096x4096px)
3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—É (–º–∞–∫—Å 10MB –Ω–∞ —Ñ–æ—Ç–æ)
4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ (10-30 —Ñ–æ—Ç–æ)
5. –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ: NSFW detection (–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Azure Content Moderator API)
6. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–º–∏–ª–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Api/Controllers/FluxModelController.cs` (–∞–±–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä)
- –î–æ–¥–∞—Ç–∏ `src/Calendary.Core/Services/ImageValidationService.cs`
- `src/Calendary.Ng/src/app/components/` - UI –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è BMP/GIF/TIFF —Ñ–∞–π–ª—ñ–≤ –≤—ñ–¥—Ö–∏–ª—è—î—Ç—å—Å—è
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ <512px –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É >10MB –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É
- [ ] –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è <10 —Ñ–æ—Ç–æ –ø–æ–∫–∞–∑—É—î –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
- [ ] –ü–æ–∫–∞–∑—É—é—Ç—å—Å—è –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ú–µ–Ω—à–µ failed —Ç—Ä–µ–Ω—É–≤–∞–Ω—å —á–µ—Ä–µ–∑ –ø–æ–≥–∞–Ω—ñ —Ñ–æ—Ç–æ (–∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞ 70%+)

---

### 4. –ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ Replicate API
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 2-3 –≥–æ–¥–∏–Ω–∏

**–ü—Ä–æ–±–ª–µ–º–∞**:
–Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º seed –≥–µ–Ω–µ—Ä—É—é—Ç—å –∑–Ω–æ–≤—É –∑–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É.

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ –∫–µ—à –≤ –ø–∞–º'—è—Ç—ñ –∞–±–æ Redis
2. –ö–ª—é—á –∫–µ—à—É: `{modelVersion}:{prompt}:{seed}` ‚Üí `imageUrl`
3. TTL: 30 –¥–Ω—ñ–≤
4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤–∏–∫–ª–∏–∫–æ–º Replicate: —è–∫—â–æ —î –≤ –∫–µ—à—ñ - –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –≤—ñ–¥—Ä–∞–∑—É
5. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ –ë–î (`GeneratedImages` —Ç–∞–±–ª–∏—Ü—è) –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –∫–µ—à—É

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/ReplicateService.cs`
- –î–æ–¥–∞—Ç–∏ `src/Calendary.Repos/Repositories/GeneratedImageRepository.cs`
- –ú–æ–∂–ª–∏–≤–æ: –¥–æ–¥–∞—Ç–∏ Redis –≤ `docker-compose.yml`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ü–µ—Ä—à–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ –ø—Ä–æ–º–ø—Ç–æ–º "A" —ñ seed 123 –≤–∏–∫–ª–∏–∫–∞—î Replicate
- [ ] –î—Ä—É–≥–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ —Ç–∏–º–∏ –∂ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î –∫–µ—à (<100ms)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ —ñ–Ω—à–∏–º seed –∞–±–æ –ø—Ä–æ–º–ø—Ç–æ–º –≤–∏–∫–ª–∏–∫–∞—î Replicate –∑–Ω–æ–≤—É
- [ ] –ö–µ—à –Ω–µ –ª–∞–º–∞—î—Ç—å—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤–µ—Ä–∞ (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ë–î)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- 40%+ –∑–∞–ø–∏—Ç—ñ–≤ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –∑ –∫–µ—à—É
- –ï–∫–æ–Ω–æ–º—ñ—è –∫–æ—à—Ç—ñ–≤ –Ω–∞ Replicate API

---

## –°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (P2)

### 5. Unit —Ç–µ—Å—Ç–∏ –¥–ª—è Core —Å–µ—Ä–≤—ñ—Å—ñ–≤
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 4-5 –≥–æ–¥–∏–Ω

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ xUnit test project
2. –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è `ReplicateService`:
   - `CreateModelAsync` - —É—Å–ø—ñ—à–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
   - `TrainModelAsync` - —Ä—ñ–∑–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏ (starting, processing, succeeded, failed)
   - `GenerateImageAsync` - —É—Å–ø—ñ—à–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
3. –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è `PdfService`:
   - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF –∑ —Ä—ñ–∑–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Moq –¥–ª—è –º–æ–∫—É–≤–∞–Ω–Ω—è HttpClient, DbContext
5. –ü–æ–∫—Ä–∏—Ç—Ç—è –º—ñ–Ω—ñ–º—É–º 70%

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**:
- `tests/Calendary.Core.Tests/Services/ReplicateServiceTests.cs`
- `tests/Calendary.Core.Tests/Services/PdfServiceTests.cs`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å: `dotnet test`
- [ ] Coverage report –ø–æ–∫–∞–∑—É—î >70% –ø–æ–∫—Ä–∏—Ç—Ç—è

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- CI/CD pipeline –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ù–æ–≤–∏–π –∫–æ–¥ –Ω–µ merge –±–µ–∑ —Ç–µ—Å—Ç—ñ–≤

---

### 6. –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ Serilog
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞
**–ß–∞—Å**: 2-3 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ Serilog NuGet packages
2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Sinks: Console, File, Seq (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
3. –õ–æ–≥—É–≤–∞—Ç–∏ –≤—Å—ñ API requests/responses (middleware)
4. –õ–æ–≥—É–≤–∞—Ç–∏ Replicate API –≤–∏–∫–ª–∏–∫–∏
5. –õ–æ–≥—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∑ stack trace
6. Structured logging: `Log.Information("User {UserId} created order {OrderId}", userId, orderId)`

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Api/Program.cs`
- `src/Calendary.Api/Calendary.Api.csproj` (–¥–æ–¥–∞—Ç–∏ Serilog)
- –î–æ–¥–∞—Ç–∏ middleware –¥–ª—è request logging

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –õ–æ–≥–∏ –∑'—è–≤–ª—è—é—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ –ø—Ä–∏ –∑–∞–ø–∏—Ç–∞—Ö
- [ ] –õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É —Ñ–∞–π–ª `logs/calendary-.log`
- [ ] Structured data –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è (JSON format)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –õ–µ–≥–∫–æ –∑–Ω–∞–π—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∑–∞ OrderId –∞–±–æ UserId
- –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É

---

### 7. Rate limiting –¥–ª—è –ø—É–±–ª—ñ—á–Ω–∏—Ö API endpoints
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞
**–ß–∞—Å**: 1-2 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ AspNetCoreRateLimit NuGet
2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ rate limits:
   - `/api/auth/register`: 5 –∑–∞–ø–∏—Ç—ñ–≤/–≥–æ–¥–∏–Ω—É –Ω–∞ IP
   - `/api/flux-models/train`: 3 –∑–∞–ø–∏—Ç–∏/–¥–µ–Ω—å –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - `/api/synthesis/generate`: 100 –∑–∞–ø–∏—Ç—ñ–≤/–≥–æ–¥–∏–Ω—É –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
3. –ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ 429 Too Many Requests –∑ Retry-After header
4. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∑—Ä–æ–∑—É–º—ñ–ª—É –ø–æ–º–∏–ª–∫—É –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Api/Program.cs`
- `src/Calendary.Api/appsettings.json` (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è rate limits)

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–æ–≤–µ—Ä—Ç–∞—î 429
- [ ] –ü—ñ—Å–ª—è Retry-After —á–∞—Å—É –∑–∞–ø–∏—Ç –∑–Ω–æ–≤—É –ø—Ä–∞—Ü—é—î
- [ ] –†—ñ–∑–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–∞—é—Ç—å –æ–∫—Ä–µ–º—ñ –ª—ñ–º—ñ—Ç–∏

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ spam —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ–π
- –ï–∫–æ–Ω–æ–º—ñ—è –Ω–∞ Replicate API (–æ–±–º–µ–∂–µ–Ω–Ω—è –∑–ª–æ–≤–∂–∏–≤–∞–Ω—å)

---

### 8. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î (N+1 problem)
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –£–≤—ñ–º–∫–Ω—É—Ç–∏ SQL logging –≤ EF Core (—Ç—ñ–ª—å–∫–∏ –Ω–∞ dev)
2. –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ N+1 –ø—Ä–æ–±–ª–µ–º–∏ (–∞–Ω–∞–ª—ñ–∑ –ª–æ–≥—ñ–≤)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `.Include()` —Ç–∞ `.ThenInclude()` –¥–ª—è eager loading
4. –î–æ–¥–∞—Ç–∏ `.AsNoTracking()` –¥–ª—è read-only –∑–∞–ø–∏—Ç—ñ–≤
5. –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è compiled queries –¥–ª—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Repos/Repositories/*.cs`
- `src/Calendary.Core/Services/*.cs` (—è–∫—â–æ —Ç–∞–º —î –ø—Ä—è–º—ñ –∑–∞–ø–∏—Ç–∏)

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –í–∫–ª—é—á–∏—Ç–∏ SQL logging —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –¥–ª—è —Å–ø–∏—Å–∫—É Orders –Ω–µ –±—ñ–ª—å—à–µ 3-4 SQL –∑–∞–ø–∏—Ç—ñ–≤
- [ ] –ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ GET /api/orders <200ms

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ó–º–µ–Ω—à–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ SQL –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ 50%+
- –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ API –Ω–∞ 30%+

---

## –ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (P3)

### 9. –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ .NET 10
**–°—Ç–∞—Ç—É—Å**: TODO (—á–µ–∫–∞—î —Ä–µ–ª—ñ–∑—É .NET 10)
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞
**–ß–∞—Å**: 1-2 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ `.csproj`: `<TargetFramework>net10.0</TargetFramework>`
2. –û–Ω–æ–≤–∏—Ç–∏ NuGet –ø–∞–∫–µ—Ç–∏ –¥–æ –Ω–∞–π–Ω–æ–≤—ñ—à–∏—Ö –≤–µ—Ä—Å—ñ–π
3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ breaking changes –≤ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏—Ö release notes

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] dotnet build —É—Å–ø—ñ—à–Ω–∏–π
- [ ] –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- [ ] API –ø—Ä–∞—Ü—é—î —è–∫ —Ä–∞–Ω—ñ—à–µ

---

### 10. –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø—Ä–æ–º–ø—Ç —Ç–µ–º
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞
**–ß–∞—Å**: 1-2 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ —Å–µ–∑–æ–Ω–Ω—ñ —Ç–µ–º–∏: Christmas, Halloween, New Year, Summer vacation
2. –î–æ–¥–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —Ç–µ–º–∏: Business, Formal, Casual
3. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ `PromptThemes` —Ç–∞–±–ª–∏—Ü—é
4. UI –¥–ª—è –≤–∏–±–æ—Ä—É —Ç–µ–º–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Repos/Migrations/` - –¥–æ–¥–∞—Ç–∏ seed data
- `src/Calendary.Ng/src/app/components/` - UI –¥–ª—è –≤–∏–±–æ—Ä—É

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ù–æ–≤—ñ —Ç–µ–º–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ dropdown
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑ —Ç–µ–º–æ—é –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

### 11. Multilanguage –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UI
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ ngx-translate –≤ Angular
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª–∏ –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤: `en.json`, `uk.json`
3. –ü–µ—Ä–µ–∫–ª–∞—Å—Ç–∏ –≤—Å—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ä—è–¥–∫–∏
4. –î–æ–¥–∞—Ç–∏ language switcher –≤ header

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**:
- `src/Calendary.Ng/src/assets/i18n/uk.json`
- `src/Calendary.Ng/src/assets/i18n/en.json`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º–æ–≤–∏ –æ–Ω–æ–≤–ª—é—î –≤—Å—ñ —Ç–µ–∫—Å—Ç–∏
- [ ] –ú–æ–≤–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ localStorage

---

### 12. Mobile app (React Native / Flutter)
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –î—É–∂–µ –≤–∏—Å–æ–∫–∞
**–ß–∞—Å**: 40-60 –≥–æ–¥–∏–Ω

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –û–±—Ä–∞—Ç–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—é (React Native –∞–±–æ Flutter)
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç
3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ
5. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–¥ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
6. –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –≤ Google Play / App Store

(–î–µ—Ç–∞–ª—å–Ω–∏–π roadmap –æ–∫—Ä–µ–º–æ)

---

## Bugfix –∑–∞–¥–∞—á—ñ

### BUG-1: WebHook –≤—ñ–¥ MonoPay —ñ–Ω–æ–¥—ñ –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è

**–ü—Ä–æ–±–ª–µ–º–∞**:
–Ü–Ω–æ–¥—ñ –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å –Ω–µ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**:
1. –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π WebhookUrl –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö MonoPay
2. –ß–∏ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è WebHook endpoint –∫–æ—Ä–µ–∫—Ç–Ω–æ
3. –î–æ–¥–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö WebHook –∑–∞–ø–∏—Ç—ñ–≤
4. –î–æ–¥–∞—Ç–∏ retry mechanism —è–∫—â–æ –æ–±—Ä–æ–±–∫–∞ –ø–∞–¥–∞—î

**–§–∞–π–ª–∏**:
- `src/Calendary.Api/Controllers/WebhookController.cs`

---

### BUG-2: Seed –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—ñ—Å–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞**:
–ü–æ–ª–µ `OutputSeed` –≤ —Ç–∞–±–ª–∏—Ü—ñ `Synthesis` —ñ–Ω–æ–¥—ñ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è null.

**–©–æ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥ seed –∑ Replicate logs
2. –î–æ–¥–∞—Ç–∏ fallback: —è–∫—â–æ seed –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ logs - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ input seed
3. –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º

**–§–∞–π–ª–∏**:
- `src/Calendary.Core/Services/ReplicateService.cs` (–º–µ—Ç–æ–¥ `ExtractSeedFromLogs`)

---

## –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ –∑–∞–¥–∞—á—ñ

### INFRA-1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è CI/CD pipeline
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ build
2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –Ω–∞ –∫–æ–∂–µ–Ω PR
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π deploy –Ω–∞ staging –ø—ñ—Å–ª—è merge –≤ main
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π deploy –Ω–∞ production –ø—ñ—Å–ª—è —Ç–µ–≥–∞ (v1.0.0)

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**:
- `.github/workflows/build.yml`
- `.github/workflows/deploy-staging.yml`
- `.github/workflows/deploy-production.yml`

---

### INFRA-2: Docker production setup
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 2-3 –≥–æ–¥–∏–Ω–∏

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ Dockerfile (multi-stage build)
2. –î–æ–¥–∞—Ç–∏ health check endpoints
3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ docker-compose –¥–ª—è production
4. –î–æ–¥–∞—Ç–∏ reverse proxy (nginx)

**–§–∞–π–ª–∏**:
- `Dockerfile.production`
- `docker-compose.production.yml`
- `nginx.conf`

---

## GitHub Issues (–í—ñ–¥–∫—Ä–∏—Ç—ñ)

### GH-136: Balance money system implement
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –î—É–∂–µ –≤–∏—Å–æ–∫–∞
**–ß–∞—Å**: 15-20 –≥–æ–¥–∏–Ω
**GitHub**: #136
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: ChatGPT o1 (–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è) ‚Üí Claude Code (–≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –±–∞–ª–∞–Ω—Å—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
2. Users –º–∞—é—Ç—å wallet –∑ balance (–≥—Ä–æ—à–æ–≤–∏–º–∏ –∫–æ—à—Ç–∞–º–∏)
3. –û–ø–µ—Ä–∞—Ü—ñ—ó: –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è, —Å–ø–∏—Å–∞–Ω–Ω—è, —ñ—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π
4. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ MonoPay –¥–ª—è –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è
5. –°–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ FluxModel, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å, –ø–æ–∫—É–ø—Ü—ñ —Ç–µ–º
6. Admin panel –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –±–∞–ª–∞–Ω—Å—ñ–≤ —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–∑–º—ñ–Ω–∏**:
- `src/Calendary.Repos/Entities/Wallet.cs`
- `src/Calendary.Repos/Entities/Transaction.cs`
- `src/Calendary.Core/Services/WalletService.cs`
- `src/Calendary.Api/Controllers/WalletController.cs`
- `src/Calendary.Ng/src/app/pages/wallet/`
- Migration –¥–ª—è –Ω–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è wallet –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [ ] –ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ MonoPay
- [ ] –°–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö
- [ ] –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤ - –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É
- [ ] –Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
- [ ] Admin –±–∞—á–∏—Ç—å –≤—Å—ñ –±–∞–ª–∞–Ω—Å–∏

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–ª–∞–Ω—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–∏ –ø–ª–∞—Ç–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö
- –ü—Ä–æ–∑–æ—Ä–∞ —ñ—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

**–ß–æ–º—É —Ü–µ–π AI**:
- **o1**: –°–∫–ª–∞–¥–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (wallet, transactions, integrations)
- **Claude**: –í–∏–∫–æ–Ω–∞–Ω–Ω—è, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, PR

---

### GH-134: Payment for theme
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏
**GitHub**: #134
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Claude Code

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ó—Ä–æ–±–∏—Ç–∏ PromptThemes –ø–ª–∞—Ç–Ω–∏–º–∏ (–æ–∫—Ä—ñ–º –±–∞–∑–æ–≤–∏—Ö)
2. –ü—Ä–∏ –≤–∏–±–æ—Ä—ñ –ø–ª–∞—Ç–Ω–æ—ó —Ç–µ–º–∏ - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å—É
3. –°–ø–∏—Å–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –∑ wallet
4. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫—É–ø–ª–µ–Ω—ñ —Ç–µ–º–∏

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Repos/Entities/PromptTheme.cs` (–¥–æ–¥–∞—Ç–∏ –ø–æ–ª–µ Price)
- `src/Calendary.Repos/Entities/UserTheme.cs` (–Ω–æ–≤–∏–π - –∫—É–ø–ª–µ–Ω—ñ —Ç–µ–º–∏)
- `src/Calendary.Core/Services/ThemeService.cs`
- `src/Calendary.Api/Controllers/ThemeController.cs`
- `src/Calendary.Ng/src/app/components/theme-selector/`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ —Ç–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –≤—Å—ñ–º
- [ ] –ü–ª–∞—Ç–Ω—ñ —Ç–µ–º–∏ –ø–æ–∫–∞–∑—É—é—Ç—å —Ü—ñ–Ω—É
- [ ] –ü—Ä–∏ –∫—É–ø—ñ–≤–ª—ñ —Å–ø–∏—Å—É—î—Ç—å—Å—è –∑ wallet
- [ ] –ö—É–ø–ª–µ–Ω—ñ —Ç–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó –æ–ø–ª–∞—Ç–∏
- [ ] –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤ - –ø–æ–∫–∞–∑—É—î –ø–æ–º–∏–ª–∫—É

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∫—É–ø–∏—Ç–∏ —Ç–µ–º—É
- –ü—ñ—Å–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞

**–ß–æ–º—É —Ü–µ–π AI**:
- **Claude**: –ü—Ä—è–º–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–æ—é —Å–∏—Å—Ç–µ–º–æ—é, –ø—Ä–æ—Å—Ç–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞

---

### GH-133: Payment for flux model
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 3-4 –≥–æ–¥–∏–Ω–∏
**GitHub**: #133
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Claude Code

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ó—Ä–æ–±–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è FluxModel –ø–ª–∞—Ç–Ω–∏–º
2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å—É –ø–µ—Ä–µ–¥ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è–º
3. –°–ø–∏—Å–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
4. –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ —è–∫—â–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è failed

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/FluxModelService.cs`
- `src/Calendary.Api/Controllers/FluxModelController.cs`
- `src/Calendary.Consumer/Consumers/TrainingConsumer.cs`
- `src/Calendary.Ng/src/app/pages/flux-model/`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å—É –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –º–æ–¥–µ–ª—ñ
- [ ] –°–ø–∏—Å–∞–Ω–Ω—è –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
- [ ] –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–∏ failed training
- [ ] –ü–æ–∫–∞–∑ —Ü—ñ–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
- [ ] –Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –º–æ–¥–µ–ª—å

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –ø–ª–∞—Ç–Ω–µ
- Failed —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è - –∫–æ—à—Ç–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è

**–ß–æ–º—É —Ü–µ–π AI**:
- **Claude**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–æ—é –ª–æ–≥—ñ–∫–æ—é —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è, refund logic

---

### GH-131: Many models (User can generate many flux models)
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –í–∏—Å–æ–∫–∞
**–ß–∞—Å**: 6-8 –≥–æ–¥–∏–Ω
**GitHub**: #131
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Gemini (–∞–Ω–∞–ª—ñ–∑) ‚Üí Claude Code (–≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ó–∞—Ä–∞–∑ User ‚Üí 1 FluxModel. –¢—Ä–µ–±–∞ User ‚Üí Many FluxModels
2. UI –¥–ª—è –≤–∏–±–æ—Ä—É –∞–∫—Ç–∏–≤–Ω–æ—ó –º–æ–¥–µ–ª—ñ
3. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ –æ–±—Ä–∞–Ω–æ—ó –º–æ–¥–µ–ª—ñ
4. –ê—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –º–æ–¥–µ–ª–µ–π
5. –õ—ñ–º—ñ—Ç –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –º–æ–¥–µ–ª–µ–π (Free: 1, Premium: 5, Pro: unlimited)

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Repos/Entities/FluxModel.cs` (–¥–æ–¥–∞—Ç–∏ IsActive, IsArchived)
- `src/Calendary.Core/Services/FluxModelService.cs`
- `src/Calendary.Api/Controllers/FluxModelController.cs`
- `src/Calendary.Ng/src/app/pages/models/` (–Ω–æ–≤–∏–π UI –¥–ª—è —Å–ø–∏—Å–∫—É –º–æ–¥–µ–ª–µ–π)
- `src/Calendary.Ng/src/app/components/model-selector/`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –º–æ–¥–µ–ª–µ–π
- [ ] –¢—ñ–ª—å–∫–∏ –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –º–æ–∂–µ –±—É—Ç–∏ –∞–∫—Ç–∏–≤–Ω–æ—é
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–∫—Ç–∏–≤–Ω—É –º–æ–¥–µ–ª—å
- [ ] –õ—ñ–º—ñ—Ç–∏ –ø–æ —Ç–∞—Ä–∏—Ñ–∞—Ö –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] –ê—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π –ø—Ä–∞—Ü—é—î
- [ ] UI –ø–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –º–æ–¥–µ–ª–µ–π
- –õ–µ–≥–∫–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—å –º—ñ–∂ –º–æ–¥–µ–ª—è–º–∏

**–ß–æ–º—É —Ü–µ–π AI**:
- **Gemini**: –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ—á–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —è–∫ –∫—Ä–∞—â–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
- **Claude**: –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–º—ñ–Ω –≤ –ë–î —Ç–∞ –∫–æ–¥—ñ

---

### GH-130: Image storage
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –í–∏—Å–æ–∫–∞
**–ß–∞—Å**: 8-10 –≥–æ–¥–∏–Ω
**GitHub**: #130
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: ChatGPT o1 (–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è) ‚Üí Claude Code (–≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ó–∞—Ä–∞–∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —É `wwwroot/uploads`
2. –¢—Ä–µ–±–∞ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ cloud storage (Azure Blob –∞–±–æ AWS S3)
3. –ü—Ä–∏—á–∏–Ω–∏: –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è, backup, CDN
4. –ú—ñ–≥—Ä–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–∏—Ö —Ñ–∞–π–ª—ñ–≤
5. –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –º—ñ—Å—Ü—è –¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è URLs

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/FileStorageService.cs` (–Ω–æ–≤–∏–π)
- `src/Calendary.Core/Services/ReplicateService.cs`
- `src/Calendary.Api/Controllers/*` (–≤—Å—ñ –º—ñ—Å—Ü—è –¥–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ñ–∞–π–ª–∏)
- `appsettings.json` (–¥–æ–¥–∞—Ç–∏ Azure/AWS credentials)
- Migration script –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö —Ñ–∞–π–ª—ñ–≤

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –ù–æ–≤—ñ —Ñ–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ cloud
- [ ] –°—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó
- [ ] URLs –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ
- [ ] –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –ø—Ä–∞—Ü—é—î
- [ ] Thumbnails –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è
- [ ] CDN (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –ø—Ä–∞—Ü—é—î

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –í—Å—ñ —Ñ–∞–π–ª–∏ –≤ cloud storage
- –õ–æ–∫–∞–ª—å–Ω–∞ –ø–∞–ø–∫–∞ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
- Performance –Ω–µ –ø–æ–≥—ñ—Ä—à–∏–≤—Å—è

**–ß–æ–º—É —Ü–µ–π AI**:
- **o1**: –í–∏–±—ñ—Ä –º—ñ–∂ Azure Blob vs AWS S3, –º—ñ–≥—Ä–∞—Ü—ñ–π–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è
- **Claude**: –í–∏–∫–æ–Ω–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ—ó, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É

---

### GH-109: NgRx in Ng project
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –î—É–∂–µ –≤–∏—Å–æ–∫–∞
**–ß–∞—Å**: 20-30 –≥–æ–¥–∏–Ω
**GitHub**: #109
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Gemini (–∞–Ω–∞–ª—ñ–∑) ‚Üí Claude Code (–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ —á–∞—Å—Ç–∏–Ω–∞—Ö)

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –î–æ–¥–∞—Ç–∏ NgRx –¥–ª—è state management –≤ Angular
2. –ó–∞—Ä–∞–∑: service-based state (–Ω–µ –∑—Ä—É—á–Ω–æ, –±–∞–≥–∞—Ç–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è)
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ Store, Actions, Reducers, Effects, Selectors
4. –ú–æ–¥—É–ª—ñ: Auth, User, FluxModels, Calendars, Orders, Cart, Admin
5. –ü–æ—Å—Ç—É–ø–æ–≤–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è (–Ω–µ all-at-once)

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**:
- `src/Calendary.Ng/src/app/store/` (–≤—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- `src/Calendary.Ng/src/app/store/auth/`, `/user/`, `/flux-models/`, etc.
- –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Store

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] Auth state –ø—Ä–∞—Ü—é—î (login, logout, token refresh)
- [ ] User profile state
- [ ] FluxModels state (list, create, select active)
- [ ] Cart state
- [ ] Orders state
- [ ] Admin state
- [ ] Devtools –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] No memory leaks

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π state management
- –õ–µ–≥—à–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—ñ—á—ñ
- –ö—Ä–∞—â–∏–π DX (developer experience)

**–ß–æ–º—É —Ü–µ–π AI**:
- **Gemini**: –ê–Ω–∞–ª—ñ–∑ –ø–æ—Ç–æ—á–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ Store
- **Claude**: –ü–æ–µ—Ç–∞–ø–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è (–ø–æ –º–æ–¥—É–ª—é –∑–∞ —Ä–∞–∑), —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

### GH-11: Email PDF and zip files
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –°–µ—Ä–µ–¥–Ω—è
**–ß–∞—Å**: 4-5 –≥–æ–¥–∏–Ω
**GitHub**: #11
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Claude Code

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ PDF —É –¥—Ä—É–∫–∞—Ä–Ω—é –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏
2. Email –∑ PDF/ZIP attachments
3. Email –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–æ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (Created, Paid, Printing, Shipped, Delivered)
4. Email templates (HTML)
5. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π EmailService –∞–±–æ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- `src/Calendary.Core/Services/EmailService.cs`
- `src/Calendary.Core/Templates/` (HTML email templates)
- `src/Calendary.Core/Services/OrderService.cs`
- `src/Calendary.Consumer/Consumers/OrderConsumer.cs`
- `appsettings.json` (print service email)

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] PDF –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è —É –¥—Ä—É–∫–∞—Ä–Ω—é –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏
- [ ] Email –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É
- [ ] Attachments –∫–æ—Ä–µ–∫—Ç–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è
- [ ] HTML templates –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –í–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏ (>10MB) –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è
- [ ] Retry –ø—Ä–∏ failed email

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ —É –¥—Ä—É–∫–∞—Ä–Ω—é
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î notifications

**–ß–æ–º—É —Ü–µ–π AI**:
- **Claude**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ SMTP, —Ä–æ–±–æ—Ç–∞ –∑ attachments, templates

---

### GH-3: Unit tests
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –í–∏—Å–æ–∫–∞
**–ß–∞—Å**: 10-15 –≥–æ–¥–∏–Ω
**GitHub**: #3
**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π AI**: Copilot (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è) + Claude Code (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ –∑–∞–ø—É—Å–∫)

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ xUnit test project
2. –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è Core Services:
   - ReplicateService
   - PdfService
   - FluxModelService
   - OrderService
   - WalletService (–ø—ñ—Å–ª—è GH-136)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Moq –¥–ª—è –º–æ–∫—É–≤–∞–Ω–Ω—è
4. Code coverage –º—ñ–Ω—ñ–º—É–º 70%

**–§–∞–π–ª–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**:
- `tests/Calendary.Core.Tests/Calendary.Core.Tests.csproj`
- `tests/Calendary.Core.Tests/Services/ReplicateServiceTests.cs`
- `tests/Calendary.Core.Tests/Services/PdfServiceTests.cs`
- `tests/Calendary.Core.Tests/Services/FluxModelServiceTests.cs`
- `tests/Calendary.Core.Tests/Services/OrderServiceTests.cs`

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] All tests pass: `dotnet test`
- [ ] Coverage >70%
- [ ] –¢–µ—Å—Ç–∏ —à–≤–∏–¥–∫—ñ (<5 —Å–µ–∫—É–Ω–¥ –∑–∞–≥–∞–ª–æ–º)
- [ ] –ú–æ–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ
- [ ] Edge cases –ø–æ–∫—Ä–∏—Ç—ñ

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- CI/CD –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏
- –ù–æ–≤–∏–π –∫–æ–¥ –Ω–µ merge –±–µ–∑ —Ç–µ—Å—Ç—ñ–≤
- Coverage report –¥–æ—Å—Ç—É–ø–Ω–∏–π

**–ß–æ–º—É —Ü–µ–π AI**:
- **Copilot**: –®–≤–∏–¥–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è boilerplate —Ç–µ—Å—Ç—ñ–≤
- **Claude**: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è test project, –∑–∞–ø—É—Å–∫, coverage

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≤–∏–±–æ—Ä—É AI –¥–ª—è —Ç–∏–ø—ñ–≤ –∑–∞–¥–∞—á

### ü§ñ Claude Code
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è**:
- –í–∏–∫–æ–Ω–∞–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö –∑–∞–¥–∞—á –∑ —Ñ–∞–π–ª–∞–º–∏
- Git –æ–ø–µ—Ä–∞—Ü—ñ—ó (branch, commit, PR)
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ API (Replicate, MonoPay, Email)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥—É
- Debugging –∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–∑–∞–ø—É—Å–∫, debugging)

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–¥–∞—á**: GH-134, GH-133, GH-11, P1-1, P1-2, P1-3

---

### üí¨ ChatGPT o1
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è**:
- –°–∫–ª–∞–¥–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è
- –í–∏–±—ñ—Ä –º—ñ–∂ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è–º–∏
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö features
- Performance optimization strategies
- Security audit recommendations

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–¥–∞—á**: GH-136 (–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è), GH-130 (–≤–∏–±—ñ—Ä storage), P1-1 (PDF optimization)

---

### ‚ö° ChatGPT GPT-4o
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è**:
- –®–≤–∏–¥–∫—ñ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó
- –ü–æ—è—Å–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è boilerplate –∫–æ–¥—É
- Code review –ø–æ—Ä–∞–¥
- Debugging –ø–æ—Ä–∞–¥ (–±–µ–∑ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–¥–∞—á**: –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó –ø–æ –∑–∞–¥–∞—á–∞—Ö, —à–≤–∏–¥–∫—ñ –ø–∏—Ç–∞–Ω–Ω—è

---

### üîç Google Gemini
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è**:
- –ê–Ω–∞–ª—ñ–∑ –≤—Å—å–æ–≥–æ codebase
- Multimodal –∑–∞–¥–∞—á—ñ (UI mockups, –¥—ñ–∞–≥—Ä–∞–º–∏)
- Security audit –≤—Å—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –∑–º—ñ–Ω
- Code review –≤–µ–ª–∏–∫–∏—Ö PR

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–¥–∞—á**: GH-131 (–∞–Ω–∞–ª—ñ–∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏), GH-109 (NgRx –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è), P2-8 (N+1 –ø—Ä–æ–±–ª–µ–º–∏)

---

### ‚å®Ô∏è GitHub Copilot
**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è**:
- Autocomplete –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ñ
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è DTOs, entities
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è unit —Ç–µ—Å—Ç—ñ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è CRUD –º–µ—Ç–æ–¥—ñ–≤
- Angular components boilerplate

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–¥–∞—á**: GH-3 (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤), —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö entities

---

## Workflow –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–¥–∞—á

**–ü—Ä–∏–∫–ª–∞–¥: GH-136 (Balance money system)**

1. **ChatGPT o1** - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è
   ```
   Prompt: –°–ø—Ä–æ–µ–∫—Ç—É–π —Å–∏—Å—Ç–µ–º—É wallet + transactions –¥–ª—è Calendary.
   –†–æ–∑–≥–ª—è–Ω—É—Ç–∏:
   - –°—Ö–µ–º–∞ –ë–î
   - Concurrency (–¥–≤–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å–ø–∏—Å—É—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
   - Rollback –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
   - Audit trail

   –†–µ–∑—É–ª—å—Ç–∞—Ç: –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω + —Å—Ö–µ–º–∞ –ë–î
   ```

2. **Gemini** - Security review –ø–ª–∞–Ω—É
   ```
   Prompt: Review —Ü–µ–π –ø–ª–∞–Ω –Ω–∞ security issues.

   –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–∏—è–≤–ª–µ–Ω—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
   ```

3. **Claude Code** - –í–∏–∫–æ–Ω–∞–Ω–Ω—è
   ```
   Prompt: –í–∏–∫–æ–Ω–∞–π —Ü–µ–π –ø–ª–∞–Ω:
   [–≤—Å—Ç–∞–≤–∏—Ç–∏ –ø–ª–∞–Ω –≤—ñ–¥ o1 + –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è –≤—ñ–¥ Gemini]

   –†–µ–∑—É–ª—å—Ç–∞—Ç: –°—Ç–≤–æ—Ä—é—î –±—Ä–µ–Ω—á—É, –ø–∏—à–µ –∫–æ–¥, —Ç–µ—Å—Ç–∏, PR
   ```

4. **Copilot** - –î–æ–ø–æ–º–æ–≥–∞ –∑ –¥–µ—Ç–∞–ª—è–º–∏
   ```
   –ü—ñ–¥ —á–∞—Å –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É Copilot –¥–æ–ø–æ–º–∞–≥–∞—î –∑ autocomplete
   ```

5. **Claude Code** - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—ñ–∫—Å–∏
   ```
   –ó–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏, –¥–∏–≤–∏—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∏, —Ñ—ñ–∫—Å–∏—Ç—å
   ```

---

## –Ø–∫ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∑–∞–¥–∞—á—É

```markdown
### [ID]. [–ù–∞–∑–≤–∞ –∑–∞–¥–∞—á—ñ]
**–°—Ç–∞—Ç—É—Å**: TODO
**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: –ù–∏–∑—å–∫–∞/–°–µ—Ä–µ–¥–Ω—è/–í–∏—Å–æ–∫–∞/–î—É–∂–µ –≤–∏—Å–æ–∫–∞
**–ß–∞—Å**: X-Y –≥–æ–¥–∏–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**:
–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏ —è–∫—É –≤–∏—Ä—ñ—à—É—î–º–æ

**–©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏**:
1. –ö—Ä–æ–∫ 1
2. –ö—Ä–æ–∫ 2
3. ...

**–§–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏**:
- —Ñ–∞–π–ª 1
- —Ñ–∞–π–ª 2

**–©–æ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏**:
- [ ] –¢–µ—Å—Ç 1
- [ ] –¢–µ—Å—Ç 2

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- –ú–µ—Ç—Ä–∏–∫–∞ 1
- –ú–µ—Ç—Ä–∏–∫–∞ 2
```

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2025-11-15
