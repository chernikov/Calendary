# Database Seed Data Report

## Опис

Цей документ містить інформацію про початкові дані (seed data), які завантажуються при створенні бази даних Calendary.

Дата створення: 2025-11-15

---

## 1. Ролі (Roles)

**Таблиця:** `Roles`

| Id | Name  | Опис |
|----|-------|------|
| 1  | Admin | Адміністратор системи |
| 2  | User  | Звичайний користувач |

**Призначення:**
- Визначення рівнів доступу в системі
- Admin має повний доступ до адмін-панелі
- User має обмежений доступ (тільки свій профіль)

---

## 2. Мови (Languages)

**Таблиця:** `Languages`

| Id | Name       | Code    | Опис |
|----|------------|---------|------|
| 1  | Українська | uk-UA   | Українська мова |
| 2  | English    | en-EN   | Англійська мова |

**Призначення:**
- Підтримка багатомовності інтерфейсу
- Використовується для календарів (назви місяців, днів тижня)
- Використовується для свят (назви святкових днів)

---

## 3. Країни (Countries)

**Таблиця:** `Countries`

| Id | Name    | Code | Опис |
|----|---------|------|------|
| 1  | Україна | UA   | Україна |

**Призначення:**
- Визначення набору свят для календарів
- Підтримка різних країн у майбутньому
- Зв'язок з таблицею Holidays

---

## 4. Адміністратор (Admin User)

**Таблиця:** `Users`

| Поле | Значення |
|------|----------|
| Id | 1 |
| Identity | 64F39BD1-633C-4B82-A64C-04CA94B77E90 |
| UserName | admin |
| Email | admin@calendary.com.ua |
| PasswordHash | 21232f297a57a5a743894a0e4a801fc3 |
| IsEmailConfirmed | true |
| IsPhoneNumberConfirmed | true |
| IsTemporary | false |
| Created | 2024-10-15 |

**⚠️ ВАЖЛИВО: Пароль за замовчуванням**
- PasswordHash: `21232f297a57a5a743894a0e4a801fc3`
- Це MD5 hash паролю: **`admin`**
- **НЕОБХІДНО змінити пароль після першого входу в продакшні!**

**Призначення:**
- Початковий обліковий запис для налаштування системи
- Доступ до адмін-панелі з першого запуску
- Управління замовленнями, моделями, користувачами

---

## 5. Роль адміністратора (UserRole)

**Таблиця:** `UserRoles`

| UserId | RoleId | Опис |
|--------|--------|------|
| 1      | 1      | Призначення ролі Admin користувачу admin |

**Призначення:**
- Зв'язок адміністратора з роллю Admin
- Many-to-Many relationship між Users та Roles

---

## 6. Категорії моделей (Categories)

**Таблиця:** `Categories`

| Id | Name | IsAlive | Опис |
|----|------|---------|------|
| 1  | Чоловік | true | Чоловік дорослий |
| 2  | Жінка | true | Жінка доросла |
| 3  | Хлопчик (малюк) | true | Хлопчик малюк (до 3 років) |
| 4  | Дівчинка (малюк) | true | Дівчинка малюк (до 3 років) |
| 5  | Хлопчик | true | Хлопчик (3-12 років) |
| 6  | Дівчинка | true | Дівчинка (3-12 років) |
| 7  | Чоловік середнього віку | true | Чоловік 40-60 років |
| 8  | Жінка середнього віку | true | Жінка 40-60 років |
| 9  | Чоловік поважного віку | true | Чоловік 60+ років |
| 10 | Жінка поважного віку | true | Жінка 60+ років |

**Призначення:**
- Класифікація Flux моделей за віком та статтю
- Використовується при тренуванні LoRA моделей
- Впливає на підбір промптів для генерації зображень
- IsAlive=true означає що категорія активна

---

## Загальна статистика seed даних

- **Ролей:** 2 (Admin, User)
- **Мов:** 2 (Українська, English)
- **Країн:** 1 (Україна)
- **Користувачів:** 1 (admin)
- **UserRoles:** 1 (admin → Admin)
- **Категорій:** 10 (різні вікові групи та статі)

**Всього записів:** 17

---

## Безпека

### ⚠️ Критичні моменти:

1. **Змінити пароль адміністратора на продакшені!**
   - Поточний пароль: `admin` (MD5: 21232f297a57a5a743894a0e4a801fc3)
   - Це тестовий пароль для розробки

2. **Email адміністратора**
   - За замовчуванням: `admin@calendary.com.ua`
   - Необхідно змінити на реальну поштову скриньку

3. **Identity GUID**
   - Унікальний ідентифікатор: `64F39BD1-633C-4B82-A64C-04CA94B77E90`
   - Використовується для JWT токенів

---

## Розширення seed даних у майбутньому

### Можливі доповнення:

1. **Країни:**
   - США, Польща, Німеччина тощо
   - Додати свята для кожної країни

2. **Мови:**
   - Польська, Німецька, Французька тощо
   - Для міжнародної аудиторії

3. **Категорії:**
   - Домашні тварини (собаки, коти)
   - Пари (для родинних календарів)

4. **Теми промптів (PromptThemes):**
   - Свята, сезони, професії
   - Буде додано окремо через міграції

5. **Свята (Holidays):**
   - Національні свята України
   - Міжнародні свята
   - Буде додано окремо через міграції

---

## Використання у коді

### DbContext seed:

```csharp
protected override void OnModelCreating(ModelBuilder modelBuilder)
{
    // Ролі
    modelBuilder.Entity<Role>().HasData(
        Role.AdminRole,
        Role.UserRole
    );

    // Мови
    modelBuilder.Entity<Language>().HasData(
        Language.Ukrainian,
        Language.English
    );

    // Країни
    modelBuilder.Entity<Country>().HasData(
        Country.Ukraine
    );

    // Адмін користувач
    modelBuilder.Entity<User>().HasData(new User { ... });

    // Роль адміна
    modelBuilder.Entity<UserRole>().HasData(new UserRole { ... });

    // Категорії
    modelBuilder.Entity<Category>().HasData(
        new Category { Id = 1, Name = "Чоловік", IsAlive = true },
        // ...
    );
}
```

---

## Примітки

- Всі seed дані завантажуються автоматично при створенні бази даних через EF Core міграції
- Seed дані є константами і не повинні змінюватися в процесі роботи додатку
- Для додавання нових seed даних необхідно створити нову міграцію
- MD5 hash використовується для паролів (застаріло, рекомендується BCrypt або Argon2)

---

**Останнє оновлення:** 2025-11-15
**Автор:** AI Assistant (Claude Code)
